{"version":3,"sources":["webpack:///./src/app/services/users.service.ts","webpack:///./src/app/users/create/create.component.html","webpack:///./src/app/users/create/create.component.ts","webpack:///./src/app/users/detail/detail.component.html","webpack:///./src/app/users/detail/detail.component.ts","webpack:///./src/app/users/edit/edit.component.html","webpack:///./src/app/users/edit/edit.component.ts","webpack:///./src/app/users/list/list.component.html","webpack:///./src/app/users/list/list.component.ts","webpack:///./src/app/users/users-routing.module.ts","webpack:///./src/app/users/users.module.ts"],"names":[],"mappings":"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","file":"users-users-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { User } from '../models/user.model';\nimport { take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersService {\n\n  private readonly RESOURCE = `${environment.API}/users/`;\n\n  constructor(private http: HttpClient) { }\n\n  listAll() {\n    return this.http.get<User[]>(this.RESOURCE);\n  }\n\n  listOne(id: number) {\n    return this.http.get<User>(`${this.RESOURCE}${id}`);\n  }\n\n  create(u: User) {\n    return this.http.post<User>(this.RESOURCE, u).pipe(take(1));\n  }\n\n  edit(u) {\n    return this.http.put<User>(`${this.RESOURCE}${u.id}`, u).pipe(take(1));\n  }\n}\n","module.exports = \"<div class=\\\"alert my-0\\\" role=\\\"alert\\\">\\n  <div class=\\\"modal-header border-bottom border-light\\\">\\n    <h4 class=\\\"modal-title\\\">Cadastrar Usuário</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"onClose()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <form class=\\\"form-auth\\\" #f=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(f)\\\" novalidate>\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-sm-12\\\">\\n          <label for=\\\"name\\\">Nome</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" ngModel #name=\\\"ngModel\\\" name=\\\"name\\\"\\n            placeholder=\\\"Ex: Lois Lane\\\" minlength=\\\"5\\\" maxlength=\\\"100\\\" required />\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div class=\\\"col-sm-12\\\">\\n          <label for=\\\"email\\\">email</label>\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" ngModel #email=\\\"ngModel\\\" name=\\\"email\\\"\\n            placeholder=\\\"Ex: loislane@dailyplanet.com\\\" email required />\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div class=\\\"col-sm-6\\\">\\n          <label for=\\\"password\\\">Senha</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" ngModel #password=\\\"ngModel\\\" name=\\\"password\\\" placeholder=\\\"Ex: $enH4-F0Rte\\\" minlength=\\\"5\\\"\\n            maxlength=\\\"100\\\" required />\\n        </div>\\n        <div class=\\\"col-sm-6\\\">\\n          <label for=\\\"role\\\">Função</label>\\n          <select class=\\\"form-control\\\" ngModel #role=\\\"ngModel\\\" name=\\\"role\\\" required>\\n            <option selected value=\\\"analista\\\">Analista</option>\\n            <option value=\\\"gestor\\\">Gestor</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\\"alert alert-warning\\\" [hidden]=\\\"email.valid || email.pristine\\\">\\n        <small><strong>Erro: </strong>O email informado é inválido.</small>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div *ngIf=\\\"error\\\" class=\\\"alert alert-warning\\\">\\n          <small>{{error}}</small>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-3\\\">\\n        <div class=\\\"text-center\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-outline-success\\\" data-dismiss=\\\"modal\\\"\\n            (click)=\\\"onClose()\\\">Cancelar</button>\\n          <button type=\\\"submit\\\" [disabled]=\\\"!f.form.valid\\\" class=\\\"btn btn-primary\\\" id=\\\"cadastrar\\\"\\n            name=\\\"cadastrar\\\">Cadastrar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { UsersService } from 'src/app/services/users.service';\nimport { User } from 'src/app/models/user.model';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BsModalRef } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.component.html',\n  preserveWhitespaces: true\n})\nexport class CreateComponent implements OnInit {\n\n  submitted = false;\n  error: string;\n  user: any;\n  currentUser: User;\n\n  constructor(\n    private usersService: UsersService,\n    private bsModalRef: BsModalRef,\n    private router: Router,\n    public route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n  }\n\n  onSubmit(f: NgForm) {\n    this.submitted = true;\n    if (f.invalid) {\n      return;\n    }\n    this.user = {\n      name: f.form.value.name,\n      email: f.form.value.email,\n      role: f.form.value.role,\n      password: f.form.value.password,\n      PrefectureId: this.currentUser['PrefectureId']\n    };\n    this.usersService.create(this.user)\n      .subscribe(\n        success => {\n          this.bsModalRef.hide();\n          this.router.navigate(['/users']);\n        },\n        error => this.error = error\n      );\n  }\n\n  onClose() {\n    this.bsModalRef.hide();\n    this.router.navigate(['/users']);\n  }\n\n}\n","module.exports = \"<div class=\\\"card mt-3 border-0\\\">\\n  <div *ngIf=\\\"users$ | async as response; else loadingError\\\">\\n    <div *ngIf=\\\"response.success; else paramError\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-header bg-light\\\" [ngClass]=\\\"{'text-danger': response.user.isActive == false}\\\">\\n          <h3>{{ response.user.name }} - ({{ response.user.role }})</h3>\\n        </div>\\n        <div class=\\\"card-body\\\">\\n\\n          <h5 class=\\\"card-subtitle mb-2 text-muted\\\">email: {{ response.user.email }}</h5>\\n          <p class=\\\"card-text\\\">\\n            <small>\\n              Usuário cadastrado em {{ response.user.createdAt | date: 'dd/MM/yyyy' }}.\\n            </small>\\n          </p>\\n          <a [routerLink]=\\\"[ '/users']\\\" class=\\\"card-link\\\">Voltar</a>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ng-template #loading>\\n    <app-loading></app-loading>\\n  </ng-template>\\n\\n  <ng-template #loadingError>\\n    <div *ngIf=\\\"error$ | async; else loading\\\" class=\\\"card mt-3 border-0\\\">\\n      <app-param-error [message]=\\\"defaultMessage\\\" type=\\\"warning\\\"></app-param-error>\\n    </div>\\n  </ng-template>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Observable, Subject, EMPTY } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { catchError, tap } from 'rxjs/operators';\nimport { User } from 'src/app/models/user.model';\nimport { UsersService } from 'src/app/services/users.service';\nimport { AlertModalService } from 'src/app/services/alert-modal.service';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  preserveWhitespaces: true\n})\nexport class DetailComponent implements OnInit {\n\n  defaultMessage: 'Nenhum usuário encontrado com o identificador fornecido';\n  users$: Observable<User>;\n  error$ = new Subject<boolean>();\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private usersService: UsersService,\n    private alertService: AlertModalService\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = params['id'];\n      this.users$ = this.usersService.listOne(id)\n        .pipe(\n          catchError(error => {\n            this.alertService.showAlertDanger(error);\n            this.error$.next(true);\n            return EMPTY;\n          }),\n          tap(data => {\n            if (!data['success'] && data['message']) {\n              if (id != 'new') {\n                this.alertService.showAlertWarning(data['message']);\n                this.router.navigate(['/users']);\n              }\n              return EMPTY;\n            }\n          })\n        );\n    });\n  }\n\n}\n","module.exports = \"<div class=\\\"alert my-0\\\" role=\\\"alert\\\">\\n  <div class=\\\"modal-header border-bottom border-light\\\">\\n    <h4 class=\\\"modal-title\\\">Editar Usuário</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"onCancel()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <form class=\\\"form-auth\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\" novalidate>\\n    <div class=\\\"card-body\\\">\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-sm-12\\\">\\n          <label for=\\\"name\\\">Nome</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"name\\\" name=\\\"name\\\"\\n            placeholder=\\\"Ex: Lois Lane\\\" minlength=\\\"5\\\" maxlength=\\\"100\\\" required />\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div class=\\\"col-sm-9\\\">\\n          <label for=\\\"email\\\">E-mail</label>\\n          <input type=\\\"email\\\" class=\\\"form-control\\\" formControlName=\\\"email\\\" name=\\\"email\\\"\\n            placeholder=\\\"Ex: loislane@dailyplanet.com\\\" minlength=\\\"5\\\" maxlength=\\\"100\\\" required />\\n        </div>\\n        <div class=\\\"col-sm-3\\\">\\n          <label for=\\\"role\\\">Função</label>\\n          <select class=\\\"form-control\\\" formControlName=\\\"role\\\" required>\\n            <option value=\\\"analista\\\">Analista</option>\\n            <option value=\\\"gestor\\\">Gestor</option>\\n          </select>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div *ngIf=\\\"error\\\" class=\\\"alert alert-warning\\\">\\n          <small>{{error}}</small>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-3\\\">\\n        <div class=\\\"text-center\\\">\\n          <button type=\\\"reset\\\" class=\\\"btn btn-outline-success\\\" (click)=\\\"onCancel()\\\">Cancelar</button>\\n          <button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\" class=\\\"btn btn-primary\\\" id=\\\"editar\\\"\\n            name=\\\"editar\\\">Editar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { UsersService } from 'src/app/services/users.service';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { User } from 'src/app/models/user.model';\nimport { BsModalRef } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  preserveWhitespaces: true\n})\nexport class EditComponent implements OnInit {\n\n  submitted = false;\n  form: FormGroup;\n  error: string;\n  currentUser: User;\n  id: number;\n\n  constructor(\n    private usersService: UsersService,\n    private bsModalRef: BsModalRef,\n    private fb: FormBuilder\n  ) { }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      id: [null],\n      name: [null],\n      email: [null],\n      role: [null]\n    });\n    const user$ = this.usersService.listOne(this.id);\n    user$.subscribe(data => this.updateForm(data['user']));\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    if (this.form.invalid) {\n      return;\n    }\n    this.usersService.edit({\n      id: this.form.value.id,\n      name: this.form.value.name,\n      email: this.form.value.email,\n      role: this.form.value.role\n    }).subscribe(\n      success => {\n        this.bsModalRef.hide();\n      },\n      error => this.error = `Erro ao editar usuário. Servidor retornou ${error}`\n    );\n  }\n\n  updateForm(user) {\n    this.form.patchValue({\n      id: user.id,\n      name: user.name,\n      email: user.email,\n      role: user.role\n    });\n  }\n\n  onCancel() {\n    this.form.reset();\n    this.bsModalRef.hide();\n  }\n\n}\n","module.exports = \"<div class=\\\"card mt-3 border-0\\\">\\n  <div class=\\\"card-header border-0 bg-white\\\">\\n    <div class=\\\"float-left\\\">\\n      <h4>Usuários</h4>\\n    </div>\\n    <div class=\\\"float-right\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"create()\\\">\\n        <fa-icon [icon]=\\\"faPlus\\\"></fa-icon> <span class=\\\"d-none d-lg-inline\\\">Cadastrar</span>\\n      </button>\\n      <button type=\\\"button\\\" class=\\\"btn btn-outline-success\\\" (click)=\\\"onRefresh()\\\">\\n        <fa-icon [icon]=\\\"faSync\\\"></fa-icon> <span class=\\\"d-none d-lg-inline\\\">Atualizar</span>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"card-body\\\">\\n    <div class=\\\"panel row\\\" *ngIf=\\\"users$ | async as response; else loadingError\\\">\\n      <table class=\\\"table table-hover\\\" *ngIf=\\\"response.success; else paramError\\\">\\n        <thead>\\n          <tr>\\n            <th class=\\\"border-0 bg-dark text-white\\\">Nome</th>\\n            <th class=\\\"border-0 bg-dark text-white\\\"></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let user of response.users\\\">\\n            <td class=\\\"border-bottom border-dark text-left\\\">\\n              <a [routerLink]=\\\"[ '/users', user.id ]\\\" [ngClass]=\\\"{'text-secondary': !user.isActive}\\\">\\n                {{ user.name }}\\n              </a>\\n            </td>\\n            <td class=\\\"border-bottom border-dark\\\">\\n              <span class=\\\"float-right\\\">\\n                <div class=\\\"btn-group mr-2\\\" role=\\\"group\\\" aria-label=\\\"Second group\\\">\\n                  <button class=\\\"btn btn-outline-primary mb-1 btn-sm\\\" (click)=\\\"edit(user.id)\\\">\\n                    <fa-icon [icon]=\\\"faPencilAlt\\\"></fa-icon>\\n                  </button>\\n                  <button *ngIf=\\\"user.isActive\\\" class=\\\"btn btn-success mb-1 btn-sm\\\"\\n                    (click)=\\\"changeState(user.id, user.isActive)\\\">\\n                    <fa-icon [icon]=\\\"faCheck\\\"></fa-icon>\\n                  </button>\\n                  <button *ngIf=\\\"!user.isActive\\\" class=\\\"btn btn-outline-secondary mb-1 btn-sm\\\"\\n                    (click)=\\\"changeState(user.id, user.isActive)\\\">\\n                    <fa-icon [icon]=\\\"faCheck\\\"></fa-icon>\\n                  </button>\\n                </div>\\n              </span>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n\\n    <ng-template #paramError>\\n      <app-param-error [message]=\\\"emptyMessage\\\"></app-param-error>\\n    </ng-template>\\n\\n    <ng-template #loading>\\n      <app-loading></app-loading>\\n    </ng-template>\\n\\n    <ng-template #loadingError>\\n      <div *ngIf=\\\"error$ | async; else loading\\\" class=\\\"card mt-3 border-0\\\">\\n        <app-param-error message=\\\"Entre em contato com o administrador do sistema!\\\" type=\\\"danger\\\"></app-param-error>\\n      </div>\\n    </ng-template>\\n  </div>\\n</div>\"","import { BsModalService } from 'ngx-bootstrap';\nimport { AlertModalService } from './../../services/alert-modal.service';\nimport { Component, OnInit } from '@angular/core';\nimport { User } from 'src/app/models/user.model';\nimport { Observable, Subject, EMPTY } from 'rxjs';\nimport { UsersService } from 'src/app/services/users.service';\nimport { catchError } from 'rxjs/operators';\nimport { CreateComponent } from '../create/create.component';\nimport { faCheck, faPencilAlt, faPlus, faSync } from '@fortawesome/free-solid-svg-icons';\nimport { EditComponent } from '../edit/edit.component';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  preserveWhitespaces: true\n})\nexport class ListComponent implements OnInit {\n\n  users$: Observable<User[]>;\n  error$ = new Subject<boolean>();\n  emptyMessage = 'Não exitem usuários cadastrados!';\n  faPencilAlt = faPencilAlt;\n  faCheck = faCheck;\n  faPlus = faPlus;\n  faSync = faSync;\n\n  modalOptions = {\n    class: 'modal-lg'\n  }\n\n  constructor(\n    private usersService: UsersService,\n    private alertService: AlertModalService,\n    private modalService: BsModalService,\n  ) { }\n\n  ngOnInit() {\n    this.onRefresh();\n    this.modalService.onHide.subscribe(() => this.onRefresh());\n  }\n\n  onRefresh() {\n    this.users$ = this.usersService.listAll()\n      .pipe(\n        catchError(error => {\n          this.alertService.showAlertDanger(error);\n          this.error$.next(true);\n          return EMPTY;\n        })\n      );\n  }\n\n  create() {\n    this.modalService.show(CreateComponent, this.modalOptions);\n  }\n\n  edit(id) {\n    this.modalOptions['initialState'] = { id: id };\n    this.modalService.show(EditComponent, this.modalOptions);\n  }\n\n  changeState(id, isActive) {\n    this.usersService.edit({\n      id: id,\n      isActive: !isActive\n    }).subscribe(\n      success => this.onRefresh(),\n      error => this.alertService.showAlertDanger(`Erro ao editar usuário. Servidor retornou ${error}`)\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ListComponent } from './list/list.component';\nimport { DetailComponent } from './detail/detail.component';\n\nconst routes: Routes = [\n  { path: '', component: ListComponent },\n  { path: ':id', component: DetailComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class UsersRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UsersRoutingModule } from './users-routing.module';\nimport { ListComponent } from './list/list.component';\nimport { DetailComponent } from './detail/detail.component';\nimport { CreateComponent } from './create/create.component';\nimport { EditComponent } from './edit/edit.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { LayoutModule } from '../layout/layout.module';\nimport { ParamErrorComponent } from '../layout/param-error/param-error.component';\nimport { ServerErrorComponent } from '../layout/server-error/server-error.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\n\n@NgModule({\n  declarations: [ListComponent, DetailComponent, CreateComponent, EditComponent],\n  entryComponents: [\n    ListComponent,\n    DetailComponent,\n    CreateComponent,\n    EditComponent,\n    ParamErrorComponent,\n    ServerErrorComponent\n  ],\n  imports: [\n    CommonModule,\n    UsersRoutingModule,\n    FormsModule,\n    LayoutModule,\n    ReactiveFormsModule,\n    FontAwesomeModule\n  ]\n})\nexport class UsersModule { }\n"],"sourceRoot":""}