{"version":3,"sources":["webpack:///./src/app/categories/categories-routing.module.ts","webpack:///./src/app/categories/categories.module.ts","webpack:///./src/app/categories/create/create.component.html","webpack:///./src/app/categories/create/create.component.ts","webpack:///./src/app/categories/detail/detail.component.html","webpack:///./src/app/categories/detail/detail.component.ts","webpack:///./src/app/categories/edit/edit.component.html","webpack:///./src/app/categories/edit/edit.component.ts","webpack:///./src/app/categories/list/list.component.html","webpack:///./src/app/categories/list/list.component.ts","webpack:///./src/app/services/categories.service.ts"],"names":[],"mappings":"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","file":"categories-categories-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ListComponent } from './list/list.component';\nimport { DetailComponent } from './detail/detail.component';\n\nconst routes: Routes = [\n  { path: '', component: ListComponent },\n  { path: ':id', component: DetailComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CategoriesRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CategoriesRoutingModule } from './categories-routing.module';\nimport { CreateComponent } from './create/create.component';\nimport { ListComponent } from './list/list.component';\nimport { DetailComponent } from './detail/detail.component';\nimport { EditComponent } from './edit/edit.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { LayoutModule } from '../layout/layout.module';\nimport { ParamErrorComponent } from '../layout/param-error/param-error.component';\nimport { ServerErrorComponent } from '../layout/server-error/server-error.component';\n\n@NgModule({\n  declarations: [ListComponent, DetailComponent, CreateComponent, EditComponent],\n  entryComponents: [\n    ListComponent,\n    DetailComponent,\n    CreateComponent,\n    EditComponent,\n    ParamErrorComponent,\n    ServerErrorComponent\n  ],\n  imports: [\n    CommonModule,\n    CategoriesRoutingModule,\n    FormsModule,\n    LayoutModule,\n    ReactiveFormsModule,\n    FontAwesomeModule\n  ]\n})\nexport class CategoriesModule { }\n","module.exports = \"<div class=\\\"alert my-0\\\" role=\\\"alert\\\">\\n  <div class=\\\"modal-header border-bottom border-light\\\">\\n    <h4 class=\\\"modal-title\\\">Cadastrar Categoria</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"onClose()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <form class=\\\"form-auth\\\" #f=\\\"ngForm\\\" (ngSubmit)=\\\"onSubmit(f)\\\" novalidate>\\n    <div class=\\\"modal-body\\\">\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-sm-12\\\">\\n          <label for=\\\"description\\\">Descrição</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" ngModel #description=\\\"ngModel\\\" name=\\\"description\\\"\\n            placeholder=\\\"Ex: Pagamentos Diversos\\\" minlength=\\\"5\\\" maxlength=\\\"100\\\" required />\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div *ngIf=\\\"error\\\" class=\\\"alert alert-warning\\\">\\n          <small>{{error}}</small>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-3\\\">\\n        <div class=\\\"text-center\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-outline-success\\\" data-dismiss=\\\"modal\\\" (click)=\\\"onClose()\\\">Cancelar</button>\\n          <button type=\\\"submit\\\" [disabled]=\\\"!f.form.valid\\\" class=\\\"btn btn-primary\\\" id=\\\"cadastrar\\\"\\n            name=\\\"cadastrar\\\">Cadastrar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { CategoriesService } from 'src/app/services/categories.service';\nimport { Category } from 'src/app/models/category.model';\nimport { User } from 'src/app/models/user.model';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BsModalRef } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'app-create',\n  templateUrl: './create.component.html',\n  preserveWhitespaces: true\n})\nexport class CreateComponent implements OnInit {\n\n  submitted = false;\n  error: string;\n  category: Category;\n  currentUser: User;\n\n  constructor(\n    private categoriesService: CategoriesService,\n    private bsModalRef: BsModalRef,\n    private router: Router,\n    public route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n  }\n\n  onSubmit(f: NgForm) {\n    this.submitted = true;\n    if (f.invalid) {\n      return;\n    }\n    this.category = {\n      description: f.form.value.description,\n      PrefectureId: this.currentUser['PrefectureId'],\n      UserId: this.currentUser['id']\n    };\n    this.categoriesService.create(this.category)\n      .subscribe(\n        success => {\n          this.bsModalRef.hide();\n          this.router.navigate(['/categories']);\n        },\n        error => this.error = error\n      );\n  }\n\n  onClose() {\n    this.bsModalRef.hide();\n    this.router.navigate(['/categories']);\n  }\n\n}\n","module.exports = \"<div class=\\\"card mt-3 border-0\\\">\\n  <div *ngIf=\\\"category$ | async as response; else loadingError\\\">\\n    <div *ngIf=\\\"response.success; else paramError\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-header bg-light\\\" [ngClass]=\\\"{'text-danger': response.category.isActive == false}\\\">\\n          <h3>{{ response.category.description }}</h3>\\n        </div>\\n        <div class=\\\"card-body\\\">\\n          <p class=\\\"card-text\\\">\\n            <small>\\n              Categoria cadastrada em {{ response.category.createdAt | date: 'dd/MM/yyyy' }}\\n              por {{ response.category.User.name }}.\\n            </small>\\n          </p>\\n          <a [routerLink]=\\\"[ '/categories']\\\" class=\\\"card-link\\\">Voltar</a>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <ng-template #loading>\\n    <app-loading></app-loading>\\n  </ng-template>\\n\\n  <ng-template #loadingError>\\n    <div *ngIf=\\\"error$ | async; else loading\\\" class=\\\"card mt-3 border-0\\\">\\n      <app-param-error [message]=\\\"defaultMessage\\\" type=\\\"warning\\\"></app-param-error>\\n    </div>\\n  </ng-template>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Observable, Subject, EMPTY } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { catchError, tap } from 'rxjs/operators';\nimport { Category } from 'src/app/models/category.model';\nimport { CategoriesService } from 'src/app/services/categories.service';\nimport { AlertModalService } from 'src/app/services/alert-modal.service';\n\n@Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  preserveWhitespaces: true\n})\nexport class DetailComponent implements OnInit {\n\n  defaultMessage: 'Nenhuma categoria encontrada com o identificador fornecido';\n  category$: Observable<Category>;\n  error$ = new Subject<boolean>();\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private categoriesService: CategoriesService,\n    private alertService: AlertModalService\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = params['id'];\n      this.category$ = this.categoriesService.listOne(id)\n        .pipe(\n          catchError(error => {\n            this.alertService.showAlertDanger(error);\n            this.error$.next(true);\n            return EMPTY;\n          }),\n          tap(data => {\n            if (!data['success'] && data['message']) {\n              if (id != 'new') {\n                this.alertService.showAlertWarning(data['message']);\n                this.router.navigate(['/categories']);\n              }\n              return EMPTY;\n            }\n          })\n        );\n    });\n  }\n\n}\n","module.exports = \"<div class=\\\"alert my-0\\\" role=\\\"alert\\\">\\n  <div class=\\\"modal-header border-bottom border-light\\\">\\n    <h4 class=\\\"modal-title\\\">Editar Categoria</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\" (click)=\\\"onCancel()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <form class=\\\"form-auth\\\" [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onSubmit()\\\" novalidate>\\n    <div class=\\\"card-body\\\">\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-sm-12\\\">\\n          <label for=\\\"description\\\">Descrição</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"description\\\" name=\\\"description\\\"\\n            placeholder=\\\"Ex: Pagamento de Pessoal\\\" minlength=\\\"5\\\" maxlength=\\\"100\\\" required />\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-1\\\">\\n        <div *ngIf=\\\"error\\\" class=\\\"alert alert-warning\\\">\\n          <small>{{error}}</small>\\n        </div>\\n      </div>\\n      <div class=\\\"row justify-content-center py-3\\\">\\n        <div class=\\\"text-center\\\">\\n          <button type=\\\"reset\\\" class=\\\"btn btn-outline-success\\\" (click)=\\\"onCancel()\\\">Cancelar</button>\\n          <button type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\" class=\\\"btn btn-primary\\\" id=\\\"editar\\\"\\n            name=\\\"editar\\\">Editar</button>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { CategoriesService } from 'src/app/services/categories.service';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { User } from 'src/app/models/user.model';\nimport { BsModalRef } from 'ngx-bootstrap';\n\n@Component({\n  selector: 'app-edit',\n  templateUrl: './edit.component.html',\n  preserveWhitespaces: true\n})\nexport class EditComponent implements OnInit {\n\n  submitted = false;\n  form: FormGroup;\n  error: string;\n  currentUser: User;\n  id: number;\n\n\n  constructor(\n    private categoriesService: CategoriesService,\n    private fb: FormBuilder,\n    private bsModalRef: BsModalRef\n  ) { }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      id: [null],\n      description: [null]\n    });\n    const category$ = this.categoriesService.listOne(this.id);\n    category$.subscribe(data => this.updateForm(data['category']));\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n  }\n\n  onSubmit() {\n    this.submitted = true;\n    if (this.form.invalid) {\n      return;\n    }\n    this.categoriesService.edit({\n      id: this.form.value.id,\n      description: this.form.value.description\n    }).subscribe(\n      success => {\n        this.bsModalRef.hide();\n      },\n      error => this.error = `Erro ao editar categoria. Servidor retornou ${error}`\n    );\n  }\n\n  updateForm(category) {\n    this.form.patchValue({\n      id: category.id,\n      description: category.description\n    });\n  }\n\n  onCancel() {\n    this.form.reset();\n    this.bsModalRef.hide();\n  }\n\n}\n","module.exports = \"<div class=\\\"card mt-3 border-0\\\">\\n  <div class=\\\"card-header border-0 bg-white\\\">\\n    <div class=\\\"float-left\\\">\\n      <h4>Categorias</h4>\\n    </div>\\n    <div class=\\\"float-right\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"create()\\\">\\n        <fa-icon [icon]=\\\"faPlus\\\"></fa-icon> <span class=\\\"d-none d-lg-inline\\\">Cadastrar</span>\\n      </button>\\n      <button type=\\\"button\\\" class=\\\"btn btn-outline-success\\\" (click)=\\\"onRefresh()\\\">\\n        <fa-icon [icon]=\\\"faSync\\\"></fa-icon> <span class=\\\"d-none d-lg-inline\\\">Atualizar</span>\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\\\"card-body\\\">\\n    <div class=\\\"panel row\\\" *ngIf=\\\"categories$ | async as response; else loadingError\\\">\\n      <table class=\\\"table table-hover\\\" *ngIf=\\\"response.success; else paramError\\\">\\n        <thead>\\n          <tr>\\n            <th class=\\\"border-0 bg-dark text-white\\\">Descrição</th>\\n            <th class=\\\"border-0 bg-dark text-white\\\"></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let category of response.categories\\\">\\n            <td class=\\\"border-bottom border-dark text-left\\\">\\n              <a [routerLink]=\\\"[ '/categories', category.id ]\\\" [ngClass]=\\\"{'text-secondary': !category.isActive}\\\">\\n                {{ category.description }}\\n              </a>\\n            </td>\\n            <td class=\\\"border-bottom border-dark\\\">\\n              <span class=\\\"float-right\\\">\\n                <div class=\\\"btn-group mr-2\\\" role=\\\"group\\\" aria-label=\\\"Second group\\\">\\n                  <button class=\\\"btn btn-outline-primary mb-1 btn-sm\\\" (click)=\\\"edit(category.id)\\\">\\n                    <fa-icon [icon]=\\\"faPencilAlt\\\"></fa-icon>\\n                  </button>\\n                  <button *ngIf=\\\"category.isActive\\\" class=\\\"btn btn-success mb-1 btn-sm\\\"\\n                    (click)=\\\"changeState(category.id, category.isActive)\\\">\\n                    <fa-icon [icon]=\\\"faCheck\\\"></fa-icon>\\n                  </button>\\n                  <button *ngIf=\\\"!category.isActive\\\" class=\\\"btn btn-outline-secondary mb-1 btn-sm\\\"\\n                    (click)=\\\"changeState(category.id, category.isActive)\\\">\\n                    <fa-icon [icon]=\\\"faCheck\\\"></fa-icon>\\n                  </button>\\n                </div>\\n              </span>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n\\n    <ng-template #paramError>\\n      <app-param-error [message]=\\\"emptyMessage\\\"></app-param-error>\\n    </ng-template>\\n\\n    <ng-template #loading>\\n      <app-loading></app-loading>\\n    </ng-template>\\n\\n    <ng-template #loadingError>\\n      <div *ngIf=\\\"error$ | async; else loading\\\" class=\\\"card mt-3 border-0\\\">\\n        <app-param-error message=\\\"Entre em contato com o administrador do sistema!\\\" type=\\\"danger\\\"></app-param-error>\\n      </div>\\n    </ng-template>\\n  </div>\\n</div>\"","import { BsModalService } from 'ngx-bootstrap';\nimport { AlertModalService } from './../../services/alert-modal.service';\nimport { Component, OnInit } from '@angular/core';\nimport { Category } from 'src/app/models/category.model';\nimport { Observable, Subject, EMPTY } from 'rxjs';\nimport { CategoriesService } from 'src/app/services/categories.service';\nimport { catchError } from 'rxjs/operators';\nimport { CreateComponent } from '../create/create.component';\nimport { faCheck, faPencilAlt, faPlus, faSync } from '@fortawesome/free-solid-svg-icons';\nimport { EditComponent } from '../edit/edit.component';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  preserveWhitespaces: true\n})\nexport class ListComponent implements OnInit {\n\n  categories$: Observable<Category[]>;\n  error$ = new Subject<boolean>();\n  emptyMessage = 'Não exitem categorias cadastradas!';\n  faPencilAlt = faPencilAlt;\n  faCheck = faCheck;\n  faPlus = faPlus;\n  faSync = faSync;\n\n  modalOptions = {\n    class: 'modal-lg'\n  }\n\n  constructor(\n    private categoriesService: CategoriesService,\n    private alertService: AlertModalService,\n    private modalService: BsModalService,\n  ) { }\n\n  ngOnInit() {\n    this.onRefresh();\n    this.modalService.onHide.subscribe(() => this.onRefresh());\n  }\n\n  onRefresh() {\n    this.categories$ = this.categoriesService.listAll()\n      .pipe(\n        catchError(error => {\n          this.alertService.showAlertDanger(error);\n          this.error$.next(true);\n          return EMPTY;\n        })\n      );\n  }\n\n  create() {\n    this.modalService.show(CreateComponent, this.modalOptions);\n  }\n\n  edit(id) {\n    this.modalOptions['initialState'] = { id: id };\n    this.modalService.show(EditComponent, this.modalOptions);\n  }\n\n  changeState(id, isActive) {\n    this.categoriesService.edit({\n      id: id,\n      isActive: !isActive\n    }).subscribe(\n      success => this.onRefresh(),\n      error => this.alertService.showAlertDanger(`Erro ao editar categoria. Servidor retornou ${error}`)\n    );\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { Category } from '../models/category.model';\nimport { take } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CategoriesService {\n\n  private readonly RESOURCE = `${environment.API}/categories/`;\n\n  constructor(private http: HttpClient) { }\n\n  listAll() {\n    return this.http.get<Category[]>(this.RESOURCE);\n  }\n\n  listOne(id: number) {\n    return this.http.get<Category>(`${this.RESOURCE}${id}`);\n  }\n\n  create(category: Category) {\n    return this.http.post<Category>(this.RESOURCE, category).pipe(take(1));\n  }\n\n  edit(category) {\n    return this.http.put<Category>(`${this.RESOURCE}${category.id}`, category).pipe(take(1));\n  }\n}\n"],"sourceRoot":""}